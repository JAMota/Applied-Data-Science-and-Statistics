## https://stackoverflow.com/questions/34512287/how-to-automatically-start-kafka-upon-system-startup-in-ubuntu

[Unit]
Description=Kafka Daemon
Wants=syslog.target

# suppose you have a service named zookeeper that it start zookeeper and we want Kafka service run after the zookeeper service
After=zookeeper.service

[Service]    
Type=forking

# the user whom you want run the Kafka start and stop command under
User=azureuser    

# the file path that contains envirnment variables
#EnvironmentFile=/home/kafka/profile

# the directory that the commands will run there   
WorkingDirectory=/home/azureuser/kafka_2.13-3.4.0/

# Kafka server start command
ExecStart=/home/azureuser/kafka_2.13-3.4.0/bin/kafka-server-start.sh -daemon /home/azureuser/kafka_2.13-3.4.0/bin/config/server.properties

# Kafka server stop command
ExecStop=/home/azureuser/kafka_2.13-3.4.0/bin/kafka-server-stop.sh -daemon

TimeoutSec=30
Restart=on-failure

[Install]
WantedBy=multi-user.target

