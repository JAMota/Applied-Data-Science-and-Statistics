var htReporter=new Hash();var htCountry=new Hash();var htPartner=new Hash();var htYearCode=new Hash();var htMetadata=new Hash();var arrPartnerImport=new Array();var arrPartnerExport=new Array();var isYear=true;var partnerChartData=[];var partnerChartseriesData=[];arrPartnerImport[0]="Trade Value (US$ Thousand)";arrPartnerImport[1]="Partner Share (%)";arrPartnerImport[2]="Share in Total Products (%)";arrPartnerImport[3]="Nbr Of traded HS6 digit Products";arrPartnerImport[4]="Tariff Agreement";arrPartnerImport[5]="Tariff - Effectively Applied~AHS AVE Tariff Lines Share (%)";arrPartnerImport[6]="AHS Dutiable Imports (US$ Thousand)";arrPartnerImport[7]="AHS Dutiable Tariff Lines Share (%)";arrPartnerImport[8]="AHS Duty Free Imports (US$ Thousand)";arrPartnerImport[9]="AHS Duty Free Tariff  Lines Share (%)";arrPartnerImport[10]="AHS MaxRate (%)";arrPartnerImport[11]="AHS MinRate (%)";arrPartnerImport[12]="AHS Simple Average (%)";arrPartnerImport[13]="AHS Specific Tariff Lines Share (%)";arrPartnerImport[14]="AHS SpecificDuty Imports (US$ Thousand)";arrPartnerImport[15]="AHS Total Tariff Lines";arrPartnerImport[16]="AHS Weighted Average (%)";arrPartnerImport[17]="MFN AVE Tariff Lines Share (%)";arrPartnerImport[18]="MFN Dutiable Imports (US$ Thousand)";arrPartnerImport[19]="MFN Dutiable Tariff Lines Share (%)";arrPartnerImport[20]="MFN Duty Free Imports (US$ Thousand)";arrPartnerImport[21]="MFN Duty Free Tariff Lines Share (%)";arrPartnerImport[22]="MFN MaxRate (%)";arrPartnerImport[23]="MFN MinRate (%)";arrPartnerImport[24]="MFN Simple Average (%)";arrPartnerImport[25]="MFN Specific Tariff Lines Share (%)";arrPartnerImport[26]="MFN SpecificDuty Imports (US$ Thousand)";arrPartnerImport[27]="MFN Total Tariff Lines";arrPartnerImport[28]="MFN Weighted Average (%)";arrPartnerExport[0]="Trade Value (US$ Thousand)";arrPartnerExport[1]="Partner Share (%)";arrPartnerExport[2]="Share in Total Products (%)";arrPartnerExport[3]="Nbr Of traded HS6 digit Products";var SelectedReporter="";var SelectedReporterName="";var SelectedYear="";var SelectedStartyear="";var SelectedEndyear="";var SelectedTradeFlow="";var SelectedIndicator="";var SelectedIndicatorName="";var SelectedPartnerName="";var SelectedPartner="";var SelectedGridFilter="";var SelectedtopChartItems="";var EmbededURL="";var IsmetadataIncluded="Yes";var IsTopRecords="No";var TopRecords="5";var CompareItemsarray=new Array();var InitialChartitems=new Array();var CompareItemcolumn;var isClearFilter=false;$(document).ready(function(){setClientIPCookie(_IP);if(SelectedIndicator==""){($("#IndicatorDropdownDiv,.indicatorBox")).hide()}else{LoadIndicators(SelectedIndicator.replace("(","~").replace(")","`"));($("#IndicatorDropdownDiv,.indicatorBox")).show()}$("#jqxPartner-GridFilter").jqxDropDownList({source:ProductTimeSeriesGridFilters,height:16,animationType:"none",placeHolder:""});if(SelectedGridFilter==""){$("#jqxPartner-GridFilter").jqxDropDownList("selectIndex",0);SelectedGridFilter="all"}else{$("#jqxPartner-GridFilter").jqxDropDownList("val",SelectedGridFilter)}if(SelectedGridFilter.toLowerCase()=="all"){$("#all").contents().unwrap();$("#allspan").css({color:"blue","font-weight":"bold!important","font-size":"24px;"})}else{if(SelectedGridFilter.toLowerCase()=="by-country"){$("#bycountry").contents().unwrap();$("#countryspan").css({color:"blue","font-weight":"bold!important","font-size":"24px;"})}else{if(SelectedGridFilter.toLowerCase()=="by-region"){$("#byregion").contents().unwrap();$("#regionspan").css({color:"blue","font-weight":"bold!important","font-size":"24px;"})}}}var b=$("#jqxPartner-GridFilter").jqxDropDownList("getSelectedIndex");if(b==-1){$("#jqxPartner-GridFilter").jqxDropDownList("selectIndex",0);SelectedGridFilter="all"}var a=$("#jqx-PartnerGrid").jqxGrid("getdisplayrows");if((SelectedReporter.toLowerCase()=="all")||(SelectedReporter.toLowerCase()=="by-country")||(SelectedReporter.toLowerCase()=="by-region")){$("#jqxPartner-GridFilter").jqxDropDownList({disabled:true})}else{if((SelectedPartner.toLowerCase()=="all")||(SelectedPartner.toLowerCase()=="by-country")||(SelectedPartner.toLowerCase()=="by-region")){$("#jqxPartner-GridFilter").jqxDropDownList({disabled:true})}}if((SelectedReporterName=="Todo País y Región")||(SelectedPartnerName=="Todo País y Región")){$("#jqxPartner-GridFilter").jqxDropDownList({disabled:false})}$("#jqx-PartnerGrid").jqxGrid("autoresizecolumn","col0");$("#showHideLink").click(function(){$("#jqxlistbox").slideToggle()});$(window).resize(function(){if($(window).width()<600){if(SelectedTradeFlow.toLowerCase()=="expimp"){if(SelectedReporter.toLowerCase()=="wld"){$("#productImportChart").html("");loadJQXChartwldexportandimport()}else{paintchordchart()}}else{loadJQXChart()}}});initDownload();initGoBtn();initDropDowns();InitCheckbox();embedCode();$("#selectedCountryRegion").find(".text").text(SelectedReporterName);$("#selectedYear").find(".text").text(SelectedYear);$("#selectedTradeFlow").find(".text").text(strTradeFlow4Display);$("#selectedIndicator").find(".text").text(SelectedIndicator);if((SelectedReporter.toLowerCase()=="cea")||(SelectedReporter.toLowerCase()=="ecs")||(SelectedReporter.toLowerCase()=="cla")||(SelectedReporter.toLowerCase()=="cme")||(SelectedReporter=="nac")||(SelectedReporter.toLowerCase()=="csa")||(SelectedReporter.toLowerCase()=="caa")){isCountryStr=false}else{isCountryStr=true}filterchange();if(SelectedTradeFlow.toLowerCase()=="expimp"){if(SelectedReporter.toLowerCase()=="wld"){$("#leftCol .download").show();$("#productImportChart").html("");loadJQXChartwldexportandimport()}else{$("#leftCol .download").hide();$("#productImportChart").html("");getChordData(SelectedReporter,SelectedYear,SelectedtopChartItems,"en")}}else{$("#leftCol .download").hide();$("#productImportChart").html("");loadJQXChart()}$(window).load(function(){assignUrl()});widgetOptions();$("#input").jqxInput({placeHolder:"Type Country Names eg:China, Mexico, Japan",searchMode:"startswithignorecase",theme:"light",height:25,width:350,source:function(e,c){var d=e.split(/,\s*/).pop();$("#input").jqxInput({query:d});c(col0)},renderer:function(f,c){var d=c.split(/,\s*/);var e=f;if($.inArray(e,CompareItemsarray)==-1){CompareItemsarray.push(e)}return""}})});function initDropDowns(){$(".enableGroup").on("click","li.region",function(a){return false});$("#leftCol").on("click","#numberOfProducts li",function(f){if(SelectedTradeFlow.toLowerCase()=="expimp"){$(this).parent().siblings(".dropdown-toggle").html("<span class='text'>"+$(this).find("a").text()+"</span> <span class='caret'></span>");SelectedtopChartItems=$(this).find("a").text();$("#productImportChart").html("");getChordData(SelectedReporter,SelectedYear,SelectedtopChartItems,"en")}else{$(this).parent().siblings(".dropdown-toggle").html("<span class='text'>"+$(this).find("a").text()+"</span> <span class='caret'></span>");SelectedtopChartItems=$(this).find("a").text();var b=$("#jqx-PartnerGrid").jqxGrid("getsortinformation");var j=new Array();var g=$("#jqxlistbox").jqxListBox("getCheckedItems");var a=$("#jqx-PartnerGrid").jqxGrid("getcolumnproperty",b.sortcolumn,"text");var l=searchPartnerIndicatorArray(a);var k=b.sortdirection.ascending?"asc":"desc";var c="";if(g.length>0){for(var d=0;d<g.length;d++){if(l==g[d].value){l=g[d].label}j[$("#jqx-PartnerGrid").jqxGrid("getcolumnindex",g[d].value)]=g[d].label}j[0]=$("#jqx-PartnerGrid").jqxGrid("columns").records[0].text;var c="";for(d=0;d<j.length;d++){if(j[d]!=undefined){c=c+getValue4LabelFromArray(PartnerIndicators,j[d],true)+";"}}if(l==undefined||l==null||(c.indexOf(l)==-1)){l=j[0]}}var h;SelectedGridFilter=$("#jqxPartner-GridFilter").jqxDropDownList("getSelectedItem");h=Svrpath+"CountryProfile/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/Partner/"+SelectedGridFilter.value+"/Show/"+c.replace(/%/g,"`")+"/Sort/"+l.replace(/%/g,"`")+"/Chart/top"+SelectedtopChartItems;if(strLanguage.toLowerCase()=="es"){h=Svrpath+"CountryProfile/es/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/Partner/"+SelectedGridFilter.value+"/Show/"+c.replace(/%/g,"`")+"/Sort/"+l.replace(/%/g,"`")+"/Chart/top"+SelectedtopChartItems}else{if(strLanguage.toLowerCase()=="en"){h=Svrpath+"CountryProfile/en/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/Partner/"+SelectedGridFilter.value+"/Show/"+c.replace(/%/g,"`")+"/Sort/"+l.replace(/%/g,"`")+"/Chart/top"+SelectedtopChartItems}}window.location.assign(h)}})}function initDownload(){$("#dropDownFileFormat li").click(function(){OmnitureControlClick("download","Excel","http://wits.worldbank.org/data/public/partner.xls");var a=$("#jqx-PartnerGrid").jqxGrid("getdisplayrows");if(a.length==0){alert("No data to export.");return}DataDownload(Svrpath,SelectedReporter,SelectedYear,SelectedTradeFlow,strLanguage.toLowerCase(),"Partner")})}function initGoBtn(){}function InitCheckbox(){$("#ChkMetadata").on("click",function(){if(document.getElementById("ChkMetadata").checked){IsmetadataIncluded="Yes"}else{IsmetadataIncluded="No"}getEmbedURL()});$("#ChkTopItems").on("click",function(){if(document.getElementById("ChkTopItems").checked){IsTopRecords="Yes";document.getElementById("TxtTopItems").disabled=false;TopRecords=document.getElementById("TxtTopItems").value;getEmbedURL()}else{IsTopRecords="No";TopRecords="0";document.getElementById("TxtTopItems").disabled=true;getEmbedURL()}})}function embedCode(){$("#Dataembed").click(function(){if($(this).next().is(":visible")){$(this).next().hide()}else{$(".toolPopover").hide();if(!$(this).next().is(":visible")){var b=$("#jqx-PartnerGrid").jqxGrid("getdisplayrows");if(b.length==0){alert("No data to embed.");return}getEmbedURL()}$(this).next().toggle()}});$("#Chartembed").click(function(){if($(this).next().is(":visible")){$(this).next().hide()}else{$(".toolPopover").hide();if(!$(this).next().is(":visible")){var b=$("#jqx-PartnerGrid").jqxGrid("getdisplayrows");if(b.length==0){alert("No data to embed.");return}getChartEmbedURL()}$(this).next().toggle()}});$("#DataPrint").click(function(){if($(this).next().is(":visible")){$(this).next().hide()}else{$(".toolPopover").hide();if(!$(this).next().is(":visible")){}$(this).next().toggle()}});$("#DataDownload").click(function(){if($(this).next().is(":visible")){$(this).next().hide()}else{$(".toolPopover").hide();if(!$(this).next().is(":visible")){}$(this).next().toggle()}});$("#chartPrint").click(function(){a()});function a(){var c="toolbar=yes,location=no,directories=yes,menubar=yes,";c+="scrollbars=yes,width=800, height=600, left=25, top=25";var b=document.getElementById("productImportChart");var d=b.innerHTML;var e=window.open("","",c);e.document.open();if(strLanguage.toLowerCase()=="es"){e.document.write("<html><head><title>Indicadores de Socio Comercial</title>")}else{e.document.write("<html><head><title>Indicators by Trading Partner</title>")}e.document.write('</head><body marginwidth="0" marginheight="0" onLoad="self.print()"><center>');e.document.write(d);e.document.write("</center></body></html>");e.document.close();e.focus()}$("#DataPrintBtn").click(function(){OmnitureControlClick("Chart Download","JPEG","https://wits.worldbank.org/CountryProfile/Partner/report.prn");var f=$("#jqx-PartnerGrid").jqxGrid("getdisplayrows");if(f.length==0){alert("No data to print.");return}if(printcols.checked){var c=$("#jqx-PartnerGrid").jqxGrid("exportdata","html",null,true,null,true)}else{var c=$("#jqx-PartnerGrid").jqxGrid("exportdata","html",null,true,null,false)}var g;if(strLanguage.toLowerCase()=="es"){g="<body>  \n <B>País/Región  : </b> <span class='badge'>"+htCountry.getItem(SelectedReporter)+" </span><B>Año/Rango : </B> <span class='badge'>"+SelectedYear+" </span> <B>Flujo comercial : </B><span class='badge'> "+strTradeFlow4Display+"</span> <br /><br/>\n \n"+c+"\n</body> "}else{g="<body>  \n <B>Country : </b> <span class='badge'>"+htCountry.getItem(SelectedReporter)+" </span><B>Year : </B> <span class='badge'>"+SelectedYear+" </span> <B>Trade Flow : </B><span class='badge'> "+strTradeFlow4Display+"</span> <br /><br/>\n \n"+c+"\n</body> "}var e=window.open("","","width=800, height=500"),b=e.document.open(),d='<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8" />\n<title>Indicators by Trading Partner - Print </title>\n<style>\nbody{ font-family:Arial; font-size:11px; }\ntable{border:1px solid #ddd}\ntable tr:nth-child(even){background: #f2f2f2;}\ntable tr td{ height:26px; line-height:26px; text-align:right; padding-right:30px;border-right:1px solid #ddd;border-bottom:1px solid #ddd}\ntable tr th{ border-bottom:1px solid #ddd; background:#f2f2f2; padding:3px 5px;}\ntd:nth-child(1),th:nth-child(1){text-align:left; padding-left:10px; font-weight:bold}\n.badge {background-color: #999999;border-radius: 10px; color: #FFFFFF;display: inline-block; padding:3px 7px; margin-right:10px; font-weight:bold}</style>\n</head>\n'+g+'<script type="text/javascript"> var s_pageName = ""; var s_channel = "DEC WITS EXT";var s_hier1 = "DEC,DEC WITS EXT"; var s_prop1 = ""; var s_prop2 = "Not Available";  /* Author */ var s_prop3 = "Not Available";  /* Date */ var s_prop4 = "Not Available";  /* Topic */ var s_prop5 = "Not Available";  /* Sub Topic */ var s_prop6 = "Not Available";  /* Region */ var s_prop7 = "Not Available";  /* Country */ var s_prop8 = "Not Available";  /* DocType */ var s_prop9 = "Not Available";  /* MDK or unique identifier */ var s_prop10 = "Live";          /* Site Status */ var s_prop11 = "Not Available"; /* Data Source */ var s_prop13 = "DEC";           /* VPU */ var s_prop16 = "English";         /* doc language */ var s_prop17 = "English";         /* site language */ var sTitle = document.title;var asTitleParts = sTitle.split("-");while (sTitle.indexOf(",") > -1)    sTitle = sTitle.replace(",", "");s_pageName = sTitle; s_prop1 = sTitle; s_hier1 += ", " + sTitle; var s_account = "wbnispdecwits,wbglobalext" <\/script><script type="text/javascript" src="https://siteresources.worldbank.org/scripts/s_code_remote.js"><\/script>\n</html>';b.write(d);b.close();e.print()});$(document).click(function(){$(".toolPopover").hide()});$(".toolPopover,.widgettools li").click(function(b){b.stopPropagation()})}function getChartEmbedURL(){var a=Svrpath+strLanguage.toLowerCase()+"/Widget/Chart/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/ChartItems/Top"+SelectedtopChartItems;document.getElementById("TxtChartEmbededURL").value="<iframe width='400' height='500' frameborder='0' style='padding:10px 0;' src='"+a+"'></iframe>"}function getEmbedURL(){EmbededURL="";if(EmbededURL==""){var k=$("#jqx-PartnerGrid").jqxGrid("getrows");if(k.length==0){alert("There are no data to embed");$(this).next().toggle();return}var c=$("#jqx-PartnerGrid").jqxGrid("getsortinformation");var e=$("#jqxlistbox").jqxListBox("getItems").length;var g=new Array();var f=$("#jqxlistbox").jqxListBox("getCheckedItems");var b=$("#jqx-PartnerGrid").jqxGrid("getcolumnproperty",c.sortcolumn,"text");var j=searchPartnerIndicatorArray(b);var h=c.sortdirection.ascending?"asc":"desc";if(f.length>0){for(var d=0;d<f.length;d++){if(j==f[d].value){j=f[d].label}g[$("#jqx-PartnerGrid").jqxGrid("getcolumnindex",f[d].value)]=f[d].label}g[0]=$("#jqx-PartnerGrid").jqxGrid("columns").records[0].text;var a="";for(d=0;d<g.length;d++){if(d==0){if(g[d]!=undefined){a=a+g[d].replace(/\&/g,"-and-")+";"}}else{if(g[d]!=undefined){a=a+searchPartnerIndicatorArray(g[d].replace(/\&/g,"-and-"))+";"}}}if(j==undefined||j==null||(a.indexOf(j)==-1)){j=g[0]}}a=a.substring(0,a.length-1);EmbededURL=Svrpath+strLanguage.toLowerCase()+"/Widget/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/Partner/"+SelectedGridFilter+"/Show/"+a.replace(/%/g,"`")+"/Sort/"+j.replace(/%/g,"`")+";"+h}if(IsTopRecords=="Yes"){document.getElementById("TxtEmbededURL").value="<iframe width='400' height='500' frameborder='0' style='padding:10px 0;' src='"+EmbededURL+"/Metadata/"+IsmetadataIncluded+"/Option/"+TopRecords+"' ></iframe>"}else{document.getElementById("TxtEmbededURL").value="<iframe width='400' height='500' frameborder='0' style='padding:10px 0;' src='"+EmbededURL+"/Metadata/"+IsmetadataIncluded+"' ></iframe>"}}function IsNumber(){var a=event.keyCode;if((a>=48&&a<=57)||(a==8||a==127)){event.returnValue=true}else{event.returnValue=false}}function NumberOnly(){var a=event.keyCode;if((a>=48&&a<=57)||(a==8||a==127)){TopRecords=document.getElementById("TxtTopItems").value;getEmbedURL();event.returnValue=true}else{event.returnValue=false}}function buildGrid(){}function assignUrl(){if($(window).width()<768){$(".zoomWrapper").hide();$("#changeDropdownModal").load(Svrpath+"partnerselection_mobile.aspx?lang="+strLanguage.toLowerCase(),function(){});if(SelectedTradeFlow.toLowerCase()=="expimp"){if(SelectedReporter.toLowerCase()=="wld"){}else{$("#chartHeader").html=SelectedReporterName+"Imports and Exports";$("#zoomChord").load(Svrpath+"Country-ChordChartZoom.aspx",function(){})}}}else{$("#changeDropdownModal").load(Svrpath+"partnerselection.aspx?lang="+strLanguage.toLowerCase(),function(){});$(".zoomWrapper").hide();if(SelectedTradeFlow.toLowerCase()=="expimp"){if(SelectedReporter.toLowerCase()=="wld"){}else{$(".zoomWrapper").show();$("#chartHeader").html=SelectedReporterName+"Imports and Exports";$("#zoomChord").load(Svrpath+"Country-ChordChartZoom.aspx",function(){})}}}}function loadOnSwipe(){$("#contentWrapper").swipe({swipeLeft:function(b,d,e,c,a){$("#pageContent").css("visibility","hidden");$(".loader").show();url=Svrpath+"/CountryProfile/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/Import/Partner/WLD/Product/All-Groups";window.location.href=url},swipeRight:function(b,d,f,c,a){$("#pageContent").css("visibility","hidden");$(".loader").show();var e=Svrpath+"/CountryProfile/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/Summary";window.location.assign(e)}})}function loadJQXChart(){var a=document.getElementById("productImportChart").offsetWidth-5;$("#productImportChart").jqxTreeMap({width:a,height:"280",source:partnerChartData,colorRange:50,headerHeight:0,renderCallbacks:{"*":function(b,c){if(c.data){b.jqxTooltip({content:'<div><div style="font-weight: bold; max-width: 200px; font-family: verdana; font-size: 13px;">'+c.label+'</div><div style="width: 200px; font-family: verdana; font-size: 12px;">'+c.data.description+"</div></div>",position:"mouse",autoHideDelay:6000,})}else{if(c.data===undefined){b.css({backgroundColor:"#fff",border:"1px solid #555"})}}}}})}function filterchange(){$("#jqxPartner-GridFilter").on("change",function(b){var c=$("#jqx-PartnerGrid").jqxGrid("getsortinformation");var h=new Array();var f=$("#jqxlistbox").jqxListBox("getCheckedItems");var a=$("#jqx-PartnerGrid").jqxGrid("getcolumnproperty",c.sortcolumn,"text");var k=searchPartnerIndicatorArray(a);var j=c.sortdirection.ascending?"asc":"desc";var d="";if(f.length>0){for(var e=0;e<f.length;e++){if(k==f[e].value){k=f[e].label}h[$("#jqx-PartnerGrid").jqxGrid("getcolumnindex",f[e].value)]=f[e].label}h[0]=$("#jqx-PartnerGrid").jqxGrid("columns").records[0].text;var d="";for(e=0;e<h.length;e++){if(h[e]!=undefined){d=d+getValue4LabelFromArray(PartnerIndicators,h[e],true)+";"}}if(k==undefined||k==null||(d.indexOf(k)==-1)){k=h[0]}}var g;SelectedGridFilter=$("#jqxPartner-GridFilter").jqxDropDownList("getSelectedItem");g=Svrpath+"CountryProfile/"+strLanguage.toLowerCase()+"/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/Partner/"+SelectedGridFilter.value+"/Show/"+d.replace(/%/g,"`")+"/Sort/"+k.replace(/%/g,"`");window.location.assign(g)})}function widgetOptions(){$("#ChartPrint").click(function(){OmnitureControlClick("Chart Download","JPEG","https://wits.worldbank.org/CountryProfile/Partner/chart.prn");var d=$("#productImportChart")[0].outerHTML;var f;if(strLanguage.toLowerCase()=="es"){f="<body>"+SelectedReporterName+" "+SelectedYear+" "+strTradeFlow4Display+" Proporción de asociados <br/>"+d+"</body></html>"}else{if(SelectedTradeFlow.toLowerCase()=="expimp"){f="<body>"+SelectedReporterName+" "+SelectedYear+" "+strTradeFlow4Display+" <br/>"+d+"</body></html>"}else{f="<body>"+SelectedReporterName+" "+SelectedYear+" "+strTradeFlow4Display+" Partner Share <br/>"+d+"</body></html>"}}var e=window.open("","","width=800, height=500"),b=e.document.open(),c='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>'+SelectedIndicator+"</title></head>"+f;b.write(c);b.close();e.print()});$("#ChartDownload").click(function(){if($(this).next().is(":visible")){$(this).next().hide()}else{$(".toolPopover").hide();if(!$(this).next().is(":visible")){}$(this).next().toggle()}});function a(){return"https://www.jqwidgets.com/export_server/export.php"}$("#saveJpeg").click(function(){OmnitureControlClick("Chart Download","JPEG","https://wits.worldbank.org/CountryProfile/Partner/chart.jpeg",a());$("#productImportChart").jqxChart("saveAsJPEG","WITS-Partner.jpeg")});$("#savePng").click(function(){OmnitureControlClick("Chart Download","JPEG","https://wits.worldbank.org/CountryProfile/Partner/chart.png",a());location.href.replace("#","");$("#productImportChart").jqxChart("saveAsPNG","WITS-Partner.png")});$(document).click(function(){$(".toolPopover").hide()});$(".toolPopover,.widgettools li").click(function(b){b.stopPropagation()})}function redirectToEng(){var b=$("#jqx-PartnerGrid").jqxGrid("getsortinformation");var d=new Array();var a=$("#jqxlistbox").jqxListBox("getCheckedItems");var h=b.sortcolumn;var e=b.sortdirection.ascending?"asc":"desc";var f="";if(a.length>0){for(var c=0;c<a.length;c++){if(h==a[c].value){h=a[c].label}d[$("#jqx-PartnerGrid").jqxGrid("getcolumnindex",a[c].value)]=a[c].label}d[0]=$("#jqx-PartnerGrid").jqxGrid("columns").records[0].text;var f="";for(c=0;c<d.length;c++){if(d[c]!=undefined){f=f+d[c]+";"}}if(h==undefined||h==null||(f.indexOf(h)==-1)){h=d[0]}}var g;SelectedGridFilter=$("#jqxPartner-GridFilter").jqxDropDownList("getSelectedItem");g=Svrpath+"CountryProfile/en/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/Partner/"+SelectedGridFilter.value;window.location.assign(g)}function redirectToSpn(){var b=$("#jqx-PartnerGrid").jqxGrid("getsortinformation");var d=new Array();var a=$("#jqxlistbox").jqxListBox("getCheckedItems");var h=b.sortcolumn;var e=b.sortdirection.ascending?"asc":"desc";var f="";if(a.length>0){for(var c=0;c<a.length;c++){if(h==a[c].value){h=a[c].label}d[$("#jqx-PartnerGrid").jqxGrid("getcolumnindex",a[c].value)]=a[c].label}d[0]=$("#jqx-PartnerGrid").jqxGrid("columns").records[0].text;var f="";for(c=0;c<d.length;c++){if(d[c]!=undefined){f=f+d[c]+";"}}if(h==undefined||h==null||(f.indexOf(h)==-1)){h=d[0]}}var g;SelectedGridFilter=$("#jqxPartner-GridFilter").jqxDropDownList("getSelectedItem");g=Svrpath+"CountryProfile/es/Country/"+SelectedReporter+"/Year/"+SelectedYear+"/TradeFlow/"+SelectedTradeFlow+"/Partner/"+SelectedGridFilter.value;window.location.assign(g)}$("#input").on("change",function(b){var c=$("#input").val();var a=new Array();a=c.split(",");applyFilter("col0",CompareItemsarray)});var applyFilter=function(b,g){var h="stringfilter";var l=new $.jqx.filter();if(g.length<1){$("#jqx-PartnerGrid").jqxGrid("clearfilters");return}else{var e="";for(var f=0;f<g.length;f++){if(g[f]!=" "){var k='javascript:RemoveItem("'+g[f].trim()+'");';e=e+"<div class='clear'>"+g[f].trim()+"&nbsp;<a href='"+k+"'><span class='glyphicon glyphicon-remove-circle'></span></a></div>";var d=1;var j=g[f].trim();var c="equal";var a=l.createfilter(h,j,c);l.addfilter(d,a)}}document.getElementById("CompareItemsDiv").innerHTML=""+e+""}$("#jqx-PartnerGrid").jqxGrid("addfilter",b,l);$("#jqx-PartnerGrid").jqxGrid("applyfilters")};function RemoveItem(a){remove(CompareItemsarray,a);applyFilter("col0",CompareItemsarray)}function remove(a,c){for(var b=a.length;b--;){if(a[b]===c){a.splice(b,1)}}if(a.length<=0){document.getElementById("CompareItemsDiv").innerHTML=""}}function loadJQXChartwldexportandimport(){var b={borderLineColor:"#fff",title:"",description:"",showLegend:true,enableAnimations:true,padding:{left:20,top:5,right:20,bottom:5},titlePadding:{left:90,top:0,right:0,bottom:10},source:wldpartnerData,categoryAxis:{dataField:"year",showGridLines:false,flip:false,labels:{visible:false}},colorScheme:"scheme01",seriesGroups:[{type:"column",orientation:"vertical",toolTipFormatSettings:{thousandsSeparator:","},valueAxis:{flip:false,unitInterval:5000000000,minValue:0,visible:true,displayValueAxis:false,description:"",showGridLines:false,formatFunction:function(e){var f=1000;var c=e;e=e*f;if(Math.abs(e)>="1000000000000"){var d=e/1000000000000;return d+" Tr"}else{if(Math.abs(e)>="1000000000"){var d=e/1000000000;return d+" B"}else{if(Math.abs(e)>="1000000"){var d=e/1000000;return d+" M"}else{return c}}}}},series:[{dataField:"import",displayText:"Import"},{dataField:"export",displayText:"Export"}]}]};$("#noofitemsforchart").hide();$("#productImportChart").jqxChart(b);var a=$("#productImportChart").jqxChart("getInstance");a.update()};
