---
title: "Comunicating data science"
format:
  pdf:
    toc: true
    toc-depth: 4
    # number-sections: true
  docx:
    toc: true
    toc-depth: 4
editor: visual
bibliography: cod.bibtex
---

##  Introduction {#sec-introduction1}

<!-- I. Introduction -->
<!-- A. Background and context -->
<!-- B. Purpose and objectives of the report -->
<!-- C. Scope and limitations of the report -->

### Introduction {#sec-introduction2}


Atlantic cod also known by its scientific name Gadus morhua is one of the most commercially important fish species in the world, with a long history of human exploitation dating back to the 10th century during by the Vikings @Kurlansky1998Cod. 

This species has been an important source of food and income for coastal communities across the North Atlantic region, supporting a vast industry of fishermen, processors, and distributors for centuries. However, the sustainability of the Atlantic cod fishery has been increasingly threatened in recent years due to overfishing, habitat destruction, and climate change.

The warming of ocean waters, caused by increasing greenhouse gas emissions, has altered the biology, ecology, and behaviour of Atlantic cod, leading to declines in population and distribution. These changes have had significant impacts on the commercial fishing industry, which has relied heavily on Atlantic cod as a source of income and food for centuries. 

In recent years, scientific research and policy efforts have been focused on understanding the impacts of climate change on Atlantic cod, and developing sustainable fishing strategies that take into account the changing environmental conditions. 

This report aims to review the current state of knowledge on the impact of climate change on Atlantic cod, including the ecological and environmental factors that shape its distribution and abundance, considering some of the socio-economic implications of its decline, and the strategies for sustainable management and conservation in the face of climate change.

Through an analysis of the data regarding sea surface temperature increase and fishing, this report seeks to contribute to a more comprehensive and evidence-based understanding of the challenges associated with the Atlantic cod fishery in the era of climate change.

### Background and context

Atlantic cod fishing has a long and complex history that dates back to at least the 11th century. Cod was a vital food source for European colonizers and became one of the most important commercial fish species in the North Atlantic.

The first recorded European explorers to fish for cod in North America were the Vikings, who fished for cod off the coast of Newfoundland around 1000 AD. Later, in the 15th and 16th centuries, European fishermen established seasonal fishing camps along the New England nicknaming it Cape Cod @Kurlansky1998CodP63.

As European fishing fleets grew in size and range, they began to explore deeper waters and more distant fishing grounds, leading to the development of large-scale commercial fishing operations. By the late 18th century, French and English fleets were competing for the rich cod fisheries of the Grand Banks and other areas leading to the modernization and a significant increase of cod fishing @Kurlansky1998CodP118.

As such from its beginning of being an important food source, to its increased values in trade as a commodity and its increased in significance culturally due to it becoming a staple of many coastal diets and the naval development that produced experienced seamen and naval infrastructure that was required during the naval arms race of the colonial era.


### Objectives

The report aims to analyse the impacts of climate change on Atlantic cod fisheries in  Iceland, Norway, Denmark and Scotland. The objectives of the report include evaluating the state of Atlantic cod fisheries from 1950 to 2010, identifying the scientific evidence linking climate change to changes in Atlantic cod's biology, ecology, and behaviour, identifying the key challenges facing the fisheries, and examining potential innovative management approaches to promote the resilience, adaptation, and sustainability of Atlantic cod fisheries.

The countries of Iceland, Norway and Denmark were chosen due to their availability of cod in their natural waters, the economy value of the fish and the long lasting traditions of cod consumption from the Viking era.

## specify why these countries
iceland, norway gdp

proof of cultural  significance on these countries


Overall, the report aims to provide a comprehensive analysis of the ecological consequences of climate change on Atlantic cod fisheries and propose strategies for adaptation and mitigation. exhaustion of code fisheries (fishing quotas, alternative fishing, like fishlike code pangaceas)

### Scope and limitations

The report is limited in scope to the impacts of climate change on Atlantic cod fisheries in Iceland, Norway, Denmark and Scotland from 1950 to 2010. The report does not cover other fish species or historical changes in Atlantic cod populations prior to the onset of climate change. The analysis is based on existing scientific research and data, which may be limited in scope or availability. While the report provides an analysis of the ecological impact of climate change on Atlantic cod fisheries, it does not advocate for specific management strategies or policy recommendations. The report aims to provide a comprehensive analysis of the issues and potential solutions within the knowledge and expertise limitations of the author.

fish data is only yearly and doesnt fully represent fishing seasons
tempature sensitivy of measuring equipment may mean there are measurement erros which aren't accounted for

## TODO talk here about overfishing as a limitation that is hard to account for


## II. Climate Change and its Impact on Cod Fisheries

<!-- A. Causes and Effects of Climate Change -->
<!-- B. Historical Changes in Cod Populations -->
<!-- C. Current Situation of Cod Fisheries -->

### Causes and Effects of Climate Change

Climate change is primarily caused by the increase in greenhouse gases (GHGs) in the atmosphere, particularly carbon dioxide (CO2). Human activities, such as burning fossil fuels, deforestation, and agriculture, are the main sources of GHG emissions. These activities release large amounts of CO2 and as a result the planet is experiencing a rise in temperature due to the heat-trapping effect of these gases.

Climate change is having a significant impact on plant and animal species, and these changes are having ripple effects throughout ecosystems. One of the most significant impacts of climate change on ecosystems is that it is causing shifts in the behavior and distribution of species. As temperatures and precipitation patterns change, some species are migrating to cooler or wetter areas. For example, some fish species are moving further north or to deeper waters in response to warming ocean temperatures.

These shifts in the distribution of species can have significant implications for ecosystems. As species move, they may encounter new competitors, predators, or prey, which can have cascading effects on food webs. Additionally, if certain species decline or disappear entirely, it can impact the availability of food and other resources for other species. This can lead to changes in the abundance and distribution of species, and can have significant impacts on ecosystem health and function.

These changes in ecosystems can also have impacts on human livelihoods. For example, in the fishing industry, changes in the distribution of fish species can impact the abundance and availability of fish, which can impact the success of fishing operations. These impacts can have economic and social implications for communities that rely on the fishing industry for their livelihoods.


### Historical Changes in Cod Populations

Atlantic cod populations have undergone significant changes over the centuries due to human fishing activities. Before European colonization, cod populations were plentiful and sustained Indigenous communities along the coast of North America. However, as commercial fishing began in the 15th century, the pressure on cod populations increased, leading to their depletion. By the early 1900s, there were concerns about the sustainability of the fishery, and measures such as fishing quotas and seasonal closures were implemented to allow for the recovery of the population.

These conservation measures led to a partial recovery of the cod population in the mid-20th century. However, during this time, technological advancements in fishing methods, such as motorized vessels and sonar technology, allowed for increased efficiency and the exploitation of deeper waters, further depleting cod populations. Despite concerns about the sustainability of the fishery, the demand for cod continued to increase, and fishing pressure intensified in the latter half of the 20th century.

In addition to overfishing, the cod population was also impacted by changes in the climate. As ocean temperatures increased in the latter half of the 20th century, the cod's food sources began to shift, leading to changes in their distribution and abundance @SST. Warmer waters also allowed for the expansion of predators, such as seals and haddock, which preyed on cod populations. 

These changes in the ocean ecosystem, coupled with overfishing, contributed to the collapse of multiple fisheries such as the Atlantic Northwest cod fishery in the 1990s, with cod population reaching 1% of its historical value despite efforts to regulate fishing and promote sustainability @colapse.

### Current Situation of Cod Fisheries

<!-- https://www.ices.dk/advice/Fisheries-overviews/Pages/fisheries-overviews.aspx -->

<!-- In Iceland due to the recognition of the importance of sustainable fishing and as such the management of the fishery is largely based on scientific research and collaboration between the government, industry, and stakeholders. -->

<!-- The Icelandic cod fishery has been certified by the MSC, an international organization that sets standards for sustainable fisheries. This certification indicates that it meets the organization's standards for sustainable fishing practices. The certification covers several Icelandic cod fishing areas and includes requirements for effective management, minimizing environmental impact, and maintaining healthy fish populations. The MSC certification has helped to promote the sustainability of Icelandic cod fisheries and increase market demand for certified sustainable seafood @msc. -->

According to the ICES's latest fisheries overviews, the cod population in Icelandic waters is currently being fished above its sustainable harvest rate. While the biomass ratios of cod are currently in a desirable condition, the fishing mortality rates for cod are above the recommended levels for sustainable fishing @IcelandReport. 

This suggests that the cod population is under pressure and additional management measures may be needed to ensure its long-term sustainability.

III. The Effects of Climate Change on Cod Fisheries in Denmark, Iceland, and Norway
A. Denmark
Overview of Denmark's Cod Fisheries
The Effects of Climate Change on Denmark's Cod Fisheries
B. Iceland
Overview of Iceland's Cod Fisheries
The Effects of Climate Change on Iceland's Cod Fisheries
C. Norway
Overview of Norway's Cod Fisheries
The Effects of Climate Change on Norway's Cod Fisheries
C. Scotland
Overview of Scotland's Cod Fisheries
The Effects of Climate Change on Scotland's Cod Fisheries
    
V. Conclusion
A. Summary of Findings
B. Implications for Cod Fisheries and Fishing Communities
C. Future Directions for Research and Action

This improves the world because goverments can take this data to plan for longevitie of cod supplies for future generations

<!-- VI. References -->
<!-- A. List of Sources Cited -->
<!-- B. Additional Resources for Further Reading -->


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}

library(ggplot2)
library(tidyverse)
library(tidyr)
library(DataExplorer)

library(readr)
library(lubridate)

library(tseries)
library(forecast)

library(gridExtra)

#install.packages("forecast")


FishDataSet = read_csv("HistoricalLandings1950-2010/ICES_1950-2010.csv")

## https://www.st.nmfs.noaa.gov/copepod/toolkit/subform_copepodite-c2.html
## get the data from a location

```



```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}
#FishDataSet$Species

BacalhauDataFrame <- subset(FishDataSet, Species == "Atlantic cod")

```

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}
#BacalhauDataFrame$Country

BomBacalhauDataFrame <- subset(BacalhauDataFrame, Country %in% c("Norway", "Iceland", # "Greenland",
  "Denmark","Faeroe Islands", "UK - England & Wales", "UK - Scotland" ))
```



```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}

# total_count <- sum(BomBacalhauDataFrame$1951)

BomBacalhauDataFrameNumeric <- BomBacalhauDataFrame %>% 
     mutate_at(c(4:64), as.numeric)

BomBacalhauDataFrameNumeric = BomBacalhauDataFrameNumeric %>% select(-(Species:Division))

BomBacalhauDataFrameNumeric = BomBacalhauDataFrameNumeric %>% replace(is.na(.), 0)


# Summarize all selected columns by summing them
BacalhauSomado<- BomBacalhauDataFrameNumeric %>%
  group_by(Country) %>%
  summarise_at(vars(`1950`:`2010`), sum, na.rm = TRUE)


## now I just need to see the sea surface temperature change from 1950 to 2010 


```

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}

IcelandSeaSurfaceTemperature = read_csv("SeaSurfaceTemperature/IcelandSeaSurfaceTemperature.csv")

NorwaySeaSurfaceTemperature = read_csv("SeaSurfaceTemperature/NorwaySeaSurfaceTemperature.csv")

DenmarkSeaSurfaceTemperature = read_csv("SeaSurfaceTemperature/DenmarkSeaSurfaceTemperature.csv")

FaroeIslandsSeaSurfaceTemperature = read_csv("SeaSurfaceTemperature/FaroeIslandsSeaSurfaceTemperature.csv")

#EnglandWalesSeaSurfaceTemperature = read_csv("SeaSurfaceTemperature/EnglandWalesSeaSurfaceTemperature.csv")

ScotlandSeaSurfaceTemperature = read_csv("SeaSurfaceTemperature/ScotlandSeaSurfaceTemperature.csv")


```

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}

## removing the third non existent variable form all the datasets

IcelandSeaSurfaceTemperature = IcelandSeaSurfaceTemperature %>% select(-(...3))
NorwaySeaSurfaceTemperature = NorwaySeaSurfaceTemperature %>% select(-(...3))
DenmarkSeaSurfaceTemperature = DenmarkSeaSurfaceTemperature %>% select(-(...3))
FaroeIslandsSeaSurfaceTemperature = FaroeIslandsSeaSurfaceTemperature %>% select(-(...3))
ScotlandSeaSurfaceTemperature = ScotlandSeaSurfaceTemperature %>% select(-(...3))

##maybe add england + wales if needed

str(IcelandSeaSurfaceTemperature)
## the data was indeed correctly stored in the date YYYY-MM-DD format

```

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}

IcelandSeaSurfaceTemperature <- IcelandSeaSurfaceTemperature[-c(1:600), ]

IcelandSeaSurfaceTemperature <- IcelandSeaSurfaceTemperature[-c(733:864), ]

NorwaySeaSurfaceTemperature <- NorwaySeaSurfaceTemperature[-c(1:600), ]

NorwaySeaSurfaceTemperature <- NorwaySeaSurfaceTemperature[-c(733:864), ]

FaroeIslandsSeaSurfaceTemperature <- FaroeIslandsSeaSurfaceTemperature[-c(1:600), ]

FaroeIslandsSeaSurfaceTemperature <- FaroeIslandsSeaSurfaceTemperature[-c(733:864), ]

ScotlandSeaSurfaceTemperature <- ScotlandSeaSurfaceTemperature[-c(1:600), ]

ScotlandSeaSurfaceTemperature <- ScotlandSeaSurfaceTemperature[-c(733:864), ]

```

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}

# Create time series object
timeSeriesIceland <- ts(IcelandSeaSurfaceTemperature$`HSST= HadISST Temperature (C)` , start = ymd("1950-01-15"), frequency = 12)

plot(timeSeriesIceland, main = "Temperature Time Series")

```

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72)}

adf.test(timeSeriesIceland)

```
If the p-value of the test is less than 0.05, you can reject the null hypothesis that the time series is non-stationary and assume that it is stationary.

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72)}

arima_model <- auto.arima(timeSeriesIceland)

summary(arima_model)

```

```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


NorwayExportEconomy = read_csv("CodEconomy/statistic_id1199193_value-of-exported-goods-from-norway-2012-2022.csv")


NorwayCodEconomy = read_csv("CodEconomy/statistic_id606925_export-value-of-cod-from-norway-2010-2021.csv")

NorwayExportEconomy <- rename(NorwayExportEconomy, "GDP" = `Value of exported goods from Norway from 2012 to 2022 (in billion NOK)`)

NorwayExportEconomy$GDP = NorwayExportEconomy$GDP*1000

NorwayCodEconomy <- rename(NorwayCodEconomy, "GDP" = `Value of cod exported from Norway from 2010 to 2021 (in million NOK)`)

NorwayCodEconomy$GDPEuro = NorwayCodEconomy$GDP*0.088539968

NorwayExportEconomy$GDPEuro = NorwayExportEconomy$GDP*0.088539968

## currency exchange 1 EUR = 11.2953 NOK  Mar 29, 2023, 22:12 UTC

NorwayCodEconomy$ratio = NorwayCodEconomy$GDPEuro / NorwayExportEconomy$GDPEuro * 100



```



```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}
IcelandCodEconomy = read_csv("CodEconomy/IcelandCodExport.csv")

## now got to convert cod exports from ISK to euros and total exports from usd to euro
IcelandCodEconomy$`Cod Export value ISK` = IcelandCodEconomy$`Cod Export value ISK`*1000

IcelandCodEconomy$CodEuros = IcelandCodEconomy$`Cod Export value ISK`* 0.0067495374

IcelandCodEconomy$`total export thousand USD` = IcelandCodEconomy$`total export thousand USD`*1000


IcelandCodEconomy$ExportEuros = IcelandCodEconomy$`total export thousand USD`*0.92254505

IcelandCodEconomy$ratio = (IcelandCodEconomy$CodEuros/IcelandCodEconomy$ExportEuros) * 100

IcelandCodEconomy$CodEurosMillions = IcelandCodEconomy$CodEuros /1000000

## 1 EUR = 148.106 ISK updated Mar 30, 2023, 00:19 UTC

## 1 USD = 0.922463 EUR Mar 30, 2023, 00:22 UTC

## https://wits.worldbank.org/CountryProfile/en/Country/ISL/Year/2020/TradeFlow/Export

## https://statice.is/statistics/business-sectors/fisheries/export-of-marine-products/
```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}

#p1 = 
ggplot(IcelandCodEconomy, aes(x = Year, y = ratio)) +
  geom_line() +
  geom_point() +
  xlab("Year") +
  ylab("Cod export percentage") +
  ggtitle("Percentage of cod revenue per total exports 1999-2020")

#p2 =
ggplot(IcelandCodEconomy, aes(x = Year, y = CodEurosMillions)) +
  geom_line() +
  geom_point() +
  xlab("Year") +
  ylab("Cod export € (Millions)") +
  ggtitle("Cod exports value € (Millions) 1999-2021")


# Combine graphs using patchwork
#gridExtra::grid.arrange(p1,p2, ncol=2)

```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


```


```{r tidy=TRUE, tidy.opts=list(width.cutoff=72), echo=FALSE, warning=FALSE, output=FALSE}


```

## References
