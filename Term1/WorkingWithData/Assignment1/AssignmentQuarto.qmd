---
title: "WorkingWithDataAssignment"
author: "João Mota"
format: pdf
editor: visual
---

##install.packages('tinytex') ##library(tinytex) \## a few hours of trial and errors can save you a few minutes of reading the proper documentation :) \## https://quarto.org/docs/output-formats/pdf-basics.html \## go to terminal tab down there and type quarto install tool tinytex

## NOTE TO SELF!!!! using quarto is the same as playing restart Rstudio simulator 2022 because nothing \## is properly recached and they have a worse garbage collecter than assembly so if you still get the

## same error after changing the just restart rstudio and remember to never ever ever change the

## initial format or add anything close to it because it will break the pdf and start generating html

## also please be smart and read https://quarto.org/docs/reference/formats/pdf.html for the formating

```{r}
library(haven)
library(tidyverse)
library(dplyr)
```

```{r}
## Very important documentation for the 2018 data set //it is a surprise toll that will help us later
technicalAnnex2018 = 'https://doc.ukdataservice.ac.uk/doc/8406/mrdoc/pdf/8406_cyber_security_breaches_survey_2018_technical_annex.pdf'

## this is the loading the first year of this level of survey data set 
dataCyberSecuritySurvey2018 = read_spss('C:/AppliedDataScienceAndStatistics/Applied-Data-Science-and-Statistics/Term1/WorkingWithData/Assignment1/Cyber Security Breaches Survey, 2018/UKDA-8406-spss-CyberSurvey2018/spss/spss24/17-054294-01_csbs_2018_final_data_deidentified_v1_12042018_public.sav')

## adding the variable year because none of the data sets have any proper way to distinguish between the years of each survey
dataCyberSecuritySurvey2018$year = '2018'
```

## Now we do the same for the other years before we merge them

```{r}
## loading the second year of this level of survey data set 
dataCyberSecuritySurvey2019 = read_spss('C:/AppliedDataScienceAndStatistics/Applied-Data-Science-and-Statistics/Term1/WorkingWithData/Assignment1/Cyber Security Breaches Survey, 2019/UKDA-8480-spss-CyberSurvey2019/spss/spss24/csbs_2019_raw_data.sav')

## adding the variable year because none of the data sets have any proper way to distinguish between the years of each survey
dataCyberSecuritySurvey2019$year = '2019'
```

```{r}
## loading the third year of this level of survey data set 
dataCyberSecuritySurvey2020 = read_spss('C:/AppliedDataScienceAndStatistics/Applied-Data-Science-and-Statistics/Term1/WorkingWithData/Assignment1/Cyber Security Breaches Survey, 2020/UKDA-8638-spss-CyberSurvey2020/spss/spss25/csbs2020_final_banded_variables_only_180320_public.sav')

## adding the variable year because none of the data sets have any proper way to distinguish between the years of each survey
dataCyberSecuritySurvey2020$year = '2020'
```

```{r}
## loading the forth year of this level of survey data set 
dataCyberSecuritySurvey2021 = read_spss('C:/AppliedDataScienceAndStatistics/Applied-Data-Science-and-Statistics/Term1/WorkingWithData/Assignment1/Cyber Security Breaches Survey, 2020/UKDA-8638-spss-CyberSurvey2020/spss/spss25/csbs2020_final_banded_variables_only_180320_public.sav')

## adding the variable year because none of the data sets have any proper way to distinguish between the years of each survey
dataCyberSecuritySurvey2021$year = '2021'
```

```{r}
## loading the fifth and final year of this level of survey data set 
dataCyberSecuritySurvey2022 = read_spss('C:/AppliedDataScienceAndStatistics/Applied-Data-Science-and-Statistics/Term1/WorkingWithData/Assignment1/Cyber Security Breaches Survey, 2022/UKDA-8970-spss/spss/spss25/dcms_csbs_2022_banded_cost_data_only_v4_public.sav')

## adding the variable year because none of the data sets have any proper way to distinguish between the years of each survey
dataCyberSecuritySurvey2022$year = '2022'
```

```{r}
## Now that we have all data loaded lets start by tidying up data set by data set start from 2018


## for some sweet sweet documentation about the questions starting from page 26
browseURL(technicalAnnex2018)

```

```{r}
##renaming all the bloody variables to a more java like name

dataCyberSecuritySurvey2018TidyName <- rename(dataCyberSecuritySurvey2018,isBusiness= 'samptype')

## if isBusiness is 1 it is a business if it is 2 it is a charity
## will change it the 2 to 0 because what is the point of a boolean without boolean values

##dataCyberSecuritySurvey2018TidyName
## never forget if R can't show all displayed text from a computation it breaks both the rendering and ##the refreshing of the rendered code for some reason ¯/_(ツ)_/¯
## future edit anything and everything breaks for no reason at all, just kill it and reopen
## refer to the first NOTE TO SELF for more information

## typex is 1-2 for businesses and 3 for charities so redundant and can be removed




```

## Quarto

Quarto enables you to weave together content and executable code into a finished document. To learn more about Quarto see <https://quarto.org>.

## Running Code

When you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this:

```{r}
1 + 1
```

You can add options to executable code like this

```{r}
#| echo: false
2 * 2
```

The `echo: false` option disables the printing of code (only output is displayed).
